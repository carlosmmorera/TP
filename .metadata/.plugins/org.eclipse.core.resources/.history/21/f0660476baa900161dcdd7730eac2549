package TP.PR1.MV;

public class ByteCodeParser {
	public static ByteCode parse(String s){
		String[] subcadenas=s.split(" ");
		ByteCode bc;
		ENUM_BYTECODE ebc;
		if (subcadenas[1].equals("add")) ebc=ENUM_BYTECODE.ADD;
		else if (subcadenas[1].equals("push")) ebc=ENUM_BYTECODE.PUSH;
		else if (subcadenas[1].equals("load")) ebc=ENUM_BYTECODE.LOAD;
		else if (subcadenas[1].equals("store")) ebc=ENUM_BYTECODE.STORE;
		else if (subcadenas[1].equals("sub")) ebc=ENUM_BYTECODE.SUB;
		else if (subcadenas[1].equals("mul")) ebc=ENUM_BYTECODE.MUL;
		else if (subcadenas[1].equals("div")) ebc=ENUM_BYTECODE.DIV;
		else if (subcadenas[1].equals("out")) ebc=ENUM_BYTECODE.OUT;
		else if (subcadenas[1].equals("halt")) ebc=ENUM_BYTECODE.HALT;
		else return null;

		if (subcadenas.length == 1) bc=new ByteCode(ebc);
		else if (subcadenas.length == 2){
			int par= Integer.parseInt(subcadenas[2]);
			bc=new ByteCode(ebc, par);
		}
		else return null;
		
		return bc;
	}
}
