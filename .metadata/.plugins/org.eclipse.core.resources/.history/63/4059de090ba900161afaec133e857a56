package TP.PR1.MV;

public class ByteCodeParser {
	public static ByteCode parse(String s){
		String[] subcadenas=s.split(" ");
		ByteCode bc;
		ENUM_BYTECODE ebc;
		if (subcadenas.length == 2){
			switch(subcadenas[1]){
			case "add": ebc=ENUM_BYTECODE.ADD; break;
			case "sub": ebc=ENUM_BYTECODE.SUB; break;
			case "mul": ebc=ENUM_BYTECODE.MUL; break;
			case "div": ebc=ENUM_BYTECODE.DIV; break;
			case "out": ebc=ENUM_BYTECODE.OUT; break;
			case "halt": ebc=ENUM_BYTECODE.HALT; break;
			default: return null;
			}
			bc=new ByteCode(ebc);
		}
		else if (subcadenas.length == 3){
			switch(subcadenas[1]){
			case "push": ebc=ENUM_BYTECODE.PUSH; break;
			case "load": ebc=ENUM_BYTECODE.LOAD; break;
			case "store": ebc=ENUM_BYTECODE.STORE; break;
			default: return null;
			}
			int par= Integer.parseInt(subcadenas[2]);
			bc=new ByteCode(ebc, par);
		}
		else return null;
	}
}
