package tp.pr3.programcompiler.instruction;

import tp.pr3.bytecode.Halt;
import tp.pr3.exception.ArrayException;
import tp.pr3.programcompiler.LexicalParser;
/**
 * Clase que implementa la instrucción Return.
 * @author Carlos Moreno
 * @author Manuel Suárez
 * @version 15/01/2017
 */
public class Return implements Instruction{
	final int LENGTH_INSTRUCTION = 1;
	/**
	 * Método que parsea la instrucción.
	 * @param words: instrucción introducida en el programa.
	 * @param lexParser encargada del análisis léxico.
	 * @return Instruction dependiendo de si coincide con la instrucción de esta clase.
	 */
	public Instruction lexParse(String[] words, LexicalParser lexParser){
		if(words.length != LENGTH_INSTRUCTION 
				|| !words[0].equalsIgnoreCase("RETURN")) return null;

		lexParser.increaseProgramCounter();
		return new Return();
	}
	/**
	 * Método que compila la instrucción.
	 * @param compiler
	 * @throws ArrayException
	 */
	public void compile(tp.pr3.programcompiler.programcompiler.Compiler compiler) throws ArrayException{
		compiler.addByteCode(new Halt());
	}
	/**
	 * Método que genera un String de la instrucción.
	 */
	public String toString(){
		String s = "return";
		return s;
	}
}
