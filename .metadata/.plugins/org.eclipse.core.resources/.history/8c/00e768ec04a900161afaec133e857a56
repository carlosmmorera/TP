package TP.PR1.MV;

public class CommandParser {
	public static Command parse(String line){
		String[] subcadenas=line.split(" ");
		Command comando;
		ENUM_COMMAND com;
		
		if (subcadenas[0] == "help"){
			com=ENUM_COMMAND.HELP;
			comando=new Command(com);
		}
		else if (subcadenas[0] == "quit") {
			com=ENUM_COMMAND.QUIT;
			comando=new Command(com);
		}
		else if (subcadenas[0] == "newinst") {
			ByteCode bc;
			ENUM_BYTECODE ebc;
			if (subcadenas.length == 2){
				switch(subcadenas[1]){
				case "add": ebc=ENUM_BYTECODE.ADD; break;
				case "sub": ebc=ENUM_BYTECODE.SUB; break;
				case "mul": ebc=ENUM_BYTECODE.MUL; break;
				case "div": ebc=ENUM_BYTECODE.DIV; break;
				case "out": ebc=ENUM_BYTECODE.OUT; break;
				case "halt": ebc=ENUM_BYTECODE.HALT; break;
				default return null;
				}
				bc=new ByteCode(ebc);
			}
			comando=new Command();
		}
		else if (subcadenas[0] == "run"){
			com=ENUM_COMMAND.HELP;
			comando=new Command(com);
		}
		else if (subcadenas[0] == "reset"){
			com=ENUM_COMMAND.HELP;
			comando=new Command(com);
		}
		else if (subcadenas[0] == "replace"){
			com=ENUM_COMMAND.HELP;
			comando=new Command(com);
		}
		else return null;
		
		return comando;
	}
}
